<!-- Investment Manager Modal -->
<div class="modal fade" id="investManager" tabindex="-1" role="dialog" aria-labelledby="investMngrTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-xl">
    <div class="modal-content">
      <div class="modal-header bg-success">
        <h5 class="modal-title text-white" id="investMngrTitle">
          <i class="fas fa-money-bill-wave"></i>
          {{ investment.Name }} - <span class="text-primary">**EDITING**</span></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <!-- Tabs -->
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#investMngrOverview">
              Overview</a></li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#investMngrRelatedApps">
              Related Business Applications</a></li>
        </ul>

        <!-- Tab Panes -->
        <div class="tab-content mt-3">
          <div class="tab-pane fade show active" id="investMngrOverview">
            <form [formGroup]="investForm" class="container">
              <div class="form-group">
                <label for="investName">Investment Name</label>
                <input type="text" class="form-control" id="investName" formControlName="investName"
                  placeholder="Enter a Name" [value]="investment.Name">
                <!-- <div class="invalid-feedback" *ngIf="!investForm.get('investName').valid">
                  Need an Investment Name
                </div> -->
              </div>

              <div class="form-group">
                <label for="investDesc">Description</label>
                <textarea type="text" class="form-control" id="investDesc" formControlName="investDesc"
                  placeholder="Enter a Description" rows="2" [value]="investment.Description"></textarea>
              </div>

              <div class="form-group">
                <label for="invManager">Investment Manager</label>
                <select class="form-control" id="invManager" formControlName="invManager">
                  <option *ngFor="let manager of managers" [value]="manager.ID"
                    [selected]="manager.Name === this.investment.InvManager">{{ manager.Name }}</option>
                </select>
              </div>

              <div class="form-group">
                <label for="investType">Type</label>
                <div id="investType">
                  <div class="custom-control custom-control-inline custom-radio" *ngFor="let type of types">
                    <input class="custom-control-input" type="radio" id="investType{{ type.ID }}"
                      [value]="type.ID" [checked]="type.Name === investment.Type" formControlName="investType">
                    <label class="custom-control-label" for="investType{{ type.ID }}">{{ type.Name }}</label>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label for="investUII">UII</label>
                <input type="text" class="form-control" id="investUII" formControlName="investUII"
                  placeholder="Enter the Investment's UII" [value]="investment.UII">
              </div>

              <div class="form-group">
                <label for="investSSO">Owning SSO</label>
                <select class="form-control" id="investSSO" formControlName="investSSO">
                  <option *ngFor="let sso of SSOs" [value]="sso.ID" [selected]="sso.Name === investment.SSO">
                    {{ sso.Name }}</option>
                </select>
              </div>

              <div class="form-group">
                <label for="investPSA">Primary Service Area</label>
                <select class="form-control" id="investPSA" formControlName="investPSA">
                  <option *ngFor="let servArea of serviceAreas" [value]="servArea.ID"
                    [selected]="servArea.Name === investment.PSA">{{ servArea.Name }}</option>
                </select>
              </div>

              <div class="form-group">
                <label for="investSSA">Secondary Service Area #1</label>
                <select class="form-control" id="investSSA" formControlName="investSSA">
                  <option *ngFor="let servArea of serviceAreas" [value]="servArea.ID"
                    [selected]="servArea.Name === investment.SSA">{{ servArea.Name }}</option>
                </select>
              </div>

              <!-- <div class="form-group">
                <label for="investSSA2">Secondary Service Area #2</label>
                <select class="form-control" id="investSSA2" formControlName="investSSA2">
                  <option *ngFor="let servArea of serviceAreas" [value]="servArea.ID"
                    [selected]="servArea.Name === investment.SSA2">{{ servArea.Name }}</option>
                </select>
              </div>

              <div class="form-group">
                <label for="investSSA3">Secondary Service Area #3</label>
                <select class="form-control" id="investSSA3" formControlName="investSSA3">
                  <option *ngFor="let servArea of serviceAreas" [value]="servArea.ID"
                    [selected]="servArea.Name === investment.SSA3">{{ servArea.Name }}</option>
                </select>
              </div>

              <div class="form-group">
                <label for="investSSA4">Secondary Service Area #4</label>
                <select class="form-control" id="investSSA4" formControlName="investSSA4">
                  <option *ngFor="let servArea of serviceAreas" [value]="servArea.ID"
                    [selected]="servArea.Name === investment.SSA4">{{ servArea.Name }}</option>
                </select>
              </div> -->

              <div class="form-group">
                <label for="investComments">Comments</label>
                <textarea type="text" class="form-control" id="investComments" formControlName="investComments"
                  placeholder="Enter Any Additional Comments" rows="2" [value]="investment.Comments"></textarea>
              </div>
            </form>

          </div>
          <!-- End of Overview Pane -->

          <div class="tab-pane fade show" id="investMngrRelatedApps">
            <!-- <table id="investRelAppsTable"></table> -->
          </div>

        </div>
      </div>

      <div class="modal-footer">
        <div>Last Updated: {{ investment.ChangeDTG | date:'MMM d, y, h:mm:ss a O' }}</div>
        <button type="submit" form="investForm" class="btn btn-info text-white" (click)="submitForm()">Save</button>
        <!--  [disabled]="investForm.invalid" -->
      </div>
    </div>
  </div>
</div>