<div class="dashboard-container">
    <h1 class="dashboard-title">Welcome to GEAR</h1>
    
    <!-- Quick View Metrics Section -->
    <div class="dashboard-quick-view-container">
        <div class="dashboard-metrics-grid">
            <div class="dashboard-quick-view-item">
                <a (click)="navigateToFisma()" class="dashboard-view-all-link" style="cursor: pointer;">View All</a>
                <div class="dashboard-header-row">
                    <div class="dashboard-icon-box">
                        <i class="dashboard-quick-view-icon fas fa-clipboard-list"></i>
                    </div>
                    <span class="dashboard-quick-view-number">{{ fismaExpiringThisQuarter }}</span>
                </div>
                <span class="dashboard-quick-view-text">FISMA Expiring by {{ getExpiringDate() }}</span>
                <div style="cursor: pointer;" (click)="navigateToFismaTabs()"  class="dashboard-quick-view-expire-container">
                    <i class="dashboard-quick-view-expire-icon fas fa-exclamation-triangle"></i>
                    <span class="dashboard-quick-view-expire-text">{{ fismaExpiringThisWeek }} items expiring within 7 days</span>
                </div>
            </div>
             <div class="dashboard-quick-view-item">
                <a (click)="navigateToSystems()" class="dashboard-view-all-link" style="cursor: pointer;">View All</a>
                <div class="dashboard-header-row">
                    <div class="dashboard-icon-box">
                        <i class="dashboard-quick-view-icon fas fa-server"></i>
                    </div>
                    <span class="dashboard-quick-view-number">{{ decommissionedSystemsLast6Months }}</span>
                </div>
                <span class="dashboard-quick-view-text">Decommissioned systems (Last 6 months)</span>
                <div style="cursor: pointer;" (click)="navigateToSystemsTabs()" class="dashboard-quick-view-expire-container">
                    <i class="dashboard-quick-view-expire-icon fas fa-exclamation-triangle"></i>
                    <span class="dashboard-quick-view-expire-text">{{ decommissionedSystemsLast7Days }} items decommissioned in last 7 days</span>
                </div>
            </div>
            <div class="dashboard-quick-view-item">
                <a (click)="navigateToItStandards()" class="dashboard-view-all-link" style="cursor: pointer;">View All</a>
                <div class="dashboard-header-row">
                    <div class="dashboard-icon-box">
                        <i class="dashboard-quick-view-icon fas fa-desktop"></i>
                    </div>
                    <span class="dashboard-quick-view-number">{{ standardsExpiringThisQuarter }}</span>
                </div>
                <span class="dashboard-quick-view-text">IT Standards Expiring by {{ getExpiringDate() }}</span>
                <div style="cursor: pointer;" (click)="navigateToItStandardTabs()" class="dashboard-quick-view-expire-container">
                    <i class="dashboard-quick-view-expire-icon fas fa-exclamation-triangle"></i>
                    <span class="dashboard-quick-view-expire-text">{{ standardsExpiringThisWeek }} items expiring within 7 days</span>
                </div>
            </div>
           
            <div class="dashboard-quick-view-item">
                <a (click)="navigateToDecommissionedITStandards()" class="dashboard-view-all-link" style="cursor: pointer;">View All</a>
                <div class="dashboard-header-row">
                    <div class="dashboard-icon-box">
                        <i class="dashboard-quick-view-icon fas fa-trash-alt"></i>
                    </div>
                    <span class="dashboard-quick-view-number">{{ decommissionedITStandardsLast6Months }}</span>
                </div>
                <span class="dashboard-quick-view-text">Decommissioned IT standards (Last 6 months)</span>
                <div style="cursor: pointer;" (click)="navigateToDecommissionedITStandardsTabs()" class="dashboard-quick-view-expire-container">
                    <i class="dashboard-quick-view-expire-icon fas fa-exclamation-triangle"></i>
                    <span class="dashboard-quick-view-expire-text">{{ decommissionedITStandardsLast7Days }} items expiring in last 7 days</span>
                </div>
            </div>
        </div>
        <div class="dashboard-quick-view-item dashboard-quick-links-card">
            <span class="dashboard-card-title">
                <i class="dashboard-quick-links-icon fas fa-link"></i>
                <span class="dashboard-card-title-text">Quick Links</span>
            </span>
            <div class="dashboard-quick-links-link-container">
                <a href="https://ea.gsa.gov/#/it_standards" class="dashboard-quick-links-link">
                   Approved/denied software
                </a>
                <a href="https://ea.gsa.gov/#/FISMA" class="dashboard-quick-links-link">
                    Active FISMA systems
                </a>
                <a href="https://ea.gsa.gov/#/systems" class="dashboard-quick-links-link">
                   Business systems/subsystems
                </a>
                <a href="https://ea.gsa.gov/#/org_chart" class="dashboard-quick-links-link">
                    GSA org chart
                </a>
            </div>
        </div>
    </div>

    <!-- Charts Section -->
    <div class="dashboard-charts-container">
        <div class="dashboard-charts-grid">
            <!-- Hosting Platforms Bar Chart -->
            <div class="dashboard-chart-card bar-chart-card">
                <div class="dashboard-chart-header">
                    <h3 class="dashboard-card-title-text">Hosting Platforms</h3>
                    <a (click)="navigateToHostingPlatforms()" class="dashboard-view-all-link" style="cursor: pointer;">View All</a>
                </div>
                <div class="dashboard-chart-content bar-chart-content">
                    <ngx-charts-bar-vertical
                        [view]="barChartView"
                        [scheme]="colorScheme"
                        [results]="hostingPlatformsData"
                        [gradient]="false"
                        [xAxis]="true"
                        [yAxis]="true"
                        [legend]="false"
                        [showXAxisLabel]="true"
                        [showYAxisLabel]="true"
                        [xAxisLabel]="'Hosting Platforms Report (2025)'"
                        [yAxisLabel]="'# of Hosting Platforms'"
                        [rotateXAxisTicks]="false"
                        [animations]="true"
                        [barPadding]="50">
                    </ngx-charts-bar-vertical>
                </div>
            </div>

            <!-- Cloud Business Systems Donut Chart -->
            <div class="dashboard-chart-card pie-chart-card">
                <div class="dashboard-chart-header">
                    <h3 class="dashboard-card-title-text">Business Systems</h3>
                    <a (click)="navigateToCloudSystems()" class="dashboard-view-all-link" style="cursor: pointer;">View All</a>
                </div>
                <div class="dashboard-chart-content pie-chart-content">
                    <ngx-charts-pie-chart
                        [view]="pieChartView"
                        [scheme]="pieColorScheme"
                        [results]="cloudBusinessSystemsData"
                        [gradient]="false"
                        [legend]="false"
                        [labels]="false"
                        [doughnut]="true"
                        [animations]="true"
                        [tooltipDisabled]="false"
                        [arcWidth]="0.25">
                    </ngx-charts-pie-chart>
                    <div class="dashboard-chart-center-text">
                        <div class="center-title">Business Systems</div>
                        <div class="center-number">{{ totalBusinessSystems }}</div>
                    </div>
                </div>
                <div class="custom-legend">
                    <div class="legend-item">
                        <div class="legend-color green"></div>
                        <span class="legend-text">Cloud Based</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color orange"></div>
                        <span class="legend-text">Not Cloud Based</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Reports Section -->
    <div class="dashboard-recent-report-container">
        <div class="dashboard-recent-report-title">
            <span class="dashboard-card-title-text">Recent GSA IT Standards</span>
            <a (click)="navigateToItStandards()" class="dashboard-view-all-link normal">View All</a>
        </div>
        <app-table *ngIf="showTable" [tableCols]="tableCols" [showToolbar]="false" [showPagination]="false" reportStyle="neutral" (rowClickEvent)="onTableRowClick($event)">
        </app-table>
    </div>
</div>