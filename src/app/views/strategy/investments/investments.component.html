<div class="it-investments-container">
  <div class="it-investments-title-container">
    <h2>IT Investments</h2>
    <app-button-overlay-panel buttonText="More Help" buttonIcon="far fa-question-circle" buttonIconPos="right">
      <span>
        <b>Details:</b> Left click on a row within the table to view additional details.
        <br><br>
        <b>Sorting:</b> Sort fields by clicking on the arrows in the column headers.
        <br><br>
        <b>Export:</b> Export data by clicking on the <i class='fas fa-download'></i> icon and selecting the format that meets 
        your needs.
        <br><br>
        <b>Search:</b> Perform a filtered search across all fields in the displayed data. Hit the 'Enter' button on your 
        keyboard to execute. Click the <i class='far fa-trash-alt'></i> icon to clear the search box. 
        Search within specific columns by clicking on the <i class='fas fa-angle-down'></i> icon. 
        <br><br>
        <b>Pages:</b> Choose how many rows per page are displayed from the selector at the bottom of the page. Click on the
        <i class='fas fa-caret-square-down'></i> icon to display everything on one page.
      </span>
    </app-button-overlay-panel>
  </div>
  <div class="it-investments-definition-container">
    <p class="it-investments-definition-text" [ngClass]="{'expanded' : defExpanded}">The IT Standards inventory is the official GSA repository of software products/versions. 
      This inventory can be used to determine which software has been reviewed and approved, ensuring that users are only requesting 
      and using software that has been approved by IT Security. The Chief Technology Office (CTO) is responsible for managing 
      the process and ensuring IT Standards are reviewed for use within GSA. 
      For more information, please see the 
      <a href='https://sites.google.com/a/gsa.gov/it_standards/it-standards' target='_blank' rel='noopener'>IT Standards site</a>
      <app-button [buttonText]="defExpanded ? 'View Less' : 'View More'" buttonStyle="link" (buttonClick)="onViewAll()"></app-button>
  </div>
  <div class="investments-graph-container">
    <span id="investVizText" tabindex="0"
      [attr.aria-label]="getAriaLabel(vizData)" style="display: none;">
      Pie Chart Details
    </span>
    <div class="investments-graph">
      <ngx-charts-advanced-pie-chart 
        appSkipFocusPiechart
        [scheme]="colorScheme"
        [results]="vizData"
        [label]="vizLabel"
        role="navigation"
        [ariaLabel]="getAriaLabel(vizData)"
        tabindex="0"></ngx-charts-advanced-pie-chart>
    </div>
  </div>
  <div class="it-investments-data-container">
    <app-table visibleColumnStorageKey="investment-report" [tableCols]="tableCols" [showToolbar]="true" [showPagination]="true" reportStyle="neutral" (rowClickEvent)="onRowClick($event)">
      <div class="filter-tabs-container" filterTabs>
        <div class="filter-tab" [ngClass]="{'selected': isTabSelected('All')}" (click)="onSelectTab('All')" (keyup)="onKeyUp($event, 'All')" tabindex="0">
          <span class="filter-tab-text">All</span>
          <span class="filter-tab-number first">{{filterTotals?.AllTotal}}</span>
        </div>
        <div class="filter-tab" [ngClass]="{'selected': isTabSelected('Current Year')}" (click)="onSelectTab('Current Year')" (keyup)="onKeyUp($event, 'Current Year')" tabindex="0">
          <span class="filter-tab-text">Current Year</span>
          <span class="filter-tab-number second">{{filterTotals?.AllTotal}}</span>
        </div>
        <div class="filter-tab" [ngClass]="{'selected': isTabSelected('Previous Year')}" (click)="onSelectTab('Previous Year')" (keyup)="onKeyUp($event, 'Previous Year')" tabindex="0">
          <span class="filter-tab-text">Previous Year</span>
          <span class="filter-tab-number third">{{filterTotals?.AllTotal}}</span>
        </div>
        <div class="filter-tab" [ngClass]="{'selected': isTabSelected('Budget Year')}" (click)="onSelectTab('Budget Year')" (keyup)="onKeyUp($event, 'Budget Year')" tabindex="0">
          <span class="filter-tab-text">Budget Year</span>
          <span class="filter-tab-number fourth">{{filterTotals?.AllTotal}}</span>
        </div>
        <div class="filter-tab" [ngClass]="{'selected': isTabSelected('Eliminated')}" (click)="onSelectTab('Eliminated')" (keyup)="onKeyUp($event, 'Eliminated')" tabindex="0">
          <span class="filter-tab-text">Eliminated</span>
          <span class="filter-tab-number first">{{filterTotals?.EliminatedTotal}}</span>
        </div>
      </div>
    </app-table>
  </div>
</div>








<!-- <div class="card">
  <div class="card-header text-white bg-teal text-center d-flex align-items-center justify-content-between"> -->
    <!-- GEAR Manager Access -->
    <!-- <a class="btn btn-sm btn-info text-white shadow d-flex align-items-center btn-border-white"
      routerLink="/gear_manager" *ngIf="!sharedService.loggedIn" aria-label="GEAR Manager Login"
      (click)="sharedService.setRedirectPath()">
      <span class="mr-2">GEAR Manager Login</span><i class="fa fa-sign-in-alt fa-2x"></i>
    </a>
    <a class="btn btn-sm btn-danger text-white shadow d-flex align-items-center btn-border-white"
      routerLink="/it_standards" *ngIf="sharedService.loggedIn" aria-label="GEAR Manager Logout"
      (click)="sharedService.logoutManager()">
      <span class="mr-2">Logout</span><i class="fas fa-sign-out-alt fa-2x"></i>
    </a> -->

    <!-- Title -->
    <!-- <h3 class="card-title mb-0">
      <span>
        <i class="fas fa-microchip mr-2"></i>
        <span [hidden]="filteredTable">All GSA </span>
        <span [hidden]="!filteredTable" [innerHTML]="filterTitle"></span>
        IT Standards
      </span>
    </h3> -->
    
    <!-- Help Button -->
    <!-- <app-button-overlay-panel buttonText="More Help" buttonIcon="far fa-question-circle" buttonIconPos="right">
      <span>
        <b>Details:</b> Left click on a row within the table to view additional details.
        <br><br>
        <b>Sorting:</b> Sort fields by clicking on the arrows in the column headers.
        <br><br>
        <b>Export:</b> Export data by clicking on the <i class='fas fa-download'></i> icon and selecting the format that meets 
        your needs.
        <br><br>
        <b>Search:</b> Perform a filtered search across all fields in the displayed data. Hit the 'Enter' button on your 
        keyboard to execute. Click the <i class='far fa-trash-alt'></i> icon to clear the search box. 
        Search within specific columns by clicking on the <i class='fas fa-angle-down'></i> icon. 
        <br><br>
        <b>Pages:</b> Choose how many rows per page are displayed from the selector at the bottom of the page. Click on the
        <i class='fas fa-caret-square-down'></i> icon to display everything on one page.
      </span>
    </app-button-overlay-panel>
  </div>

  <div class="card-body card-text justify-content-center">
    <div class="row w-100"> -->
      <!-- Add Button -->
      <!-- <button role="button" name="addITStandBttn" aria-label="Add IT Standard" class="btn bg-teal text-white position-absolute ml-3"
        (click)="createITStand()" [hidden]="!sharedService.loggedIn">
        <i class="fas fa-plus"></i>
      </button>
    </div>
     -->
    <!-- Main Table -->
    <!-- <ng-container *ngIf="dataReady">
      <app-table visibleColumnStorageKey="" [tableCols]="tableCols" exportName="IT Standards" reportStyle="technologies" tableType="itStandards"> -->
        <!-- IT-Standard Filter Buttons -->
        <!-- <app-filter-buttons filterBtns [filterButtons]="filterButtons" [preloadedFilterButtons]="preloadedFilterButtons" (filterClick)="onFilterClick($event)" (filterResetClick)="onFilterResetClick()"></app-filter-buttons> -->
        <!-- IT-Standard Definition Popover -->
        <!-- <app-button-overlay-panel definitionBtn buttonText="IT-Standards definition">
          <span>The IT Standards inventory is the official GSA repository of software products/versions. 
            This inventory can be used to determine which software has been reviewed and approved, ensuring that users are only requesting 
            and using software that has been approved by IT Security. The Chief Technology Office (CTO) is responsible for managing 
            the process and ensuring IT Standards are reviewed for use within GSA. 
            For more information, please see the 
            <a href='https://sites.google.com/a/gsa.gov/it_standards/it-standards' target='_blank' rel='noopener'>IT Standards site</a>
          </span>
        </app-button-overlay-panel>
      </app-table>
    </ng-container>
  </div>
</div> -->










<!-- <div class="card">
  <div class="card-header text-white bg-success text-center d-flex align-items-center justify-content-between">
    <div></div>
    <h3 class="card-title mb-0">
      <span>
        <i class="fas fa-money-bill-wave mr-2"></i>
        <span [hidden]="!filteredTable">{{ filterTitle }} </span>
        <span [hidden]="filteredTable">Current IT </span>
        Investments
      </span>
    </h3> -->
    <!-- Help Button -->
    <!-- <app-button-overlay-panel buttonText="More Help" buttonIcon="far fa-question-circle" buttonIconPos="right">
      <b>Details:</b> Left click on a row within the table to view additional details.
        <br><br>
        <b>Sorting:</b> Sort fields by clicking on the arrows in the column headers.
        <br><br>
        <b>Export:</b> Export data by clicking on the <i class='fas fa-download'></i> icon and selecting the format that meets 
        your needs.
        <br><br>
        <b>Search:</b> Perform a filtered search across all fields in the displayed data. Hit the 'Enter' button on your 
        keyboard to execute. Click the <i class='far fa-trash-alt'></i> icon to clear the search box. 
        Search within specific columns by clicking on the <i class='fas fa-angle-down'></i> icon. 
        <br><br>
        <b>Pages:</b> Choose how many rows per page are displayed from the selector at the bottom of the page. Click on the
        <i class='fas fa-caret-square-down'></i> icon to display everything on one page.
    </app-button-overlay-panel>
  </div>

  <div class="card-body card-text"> -->
    <!-- Visualizations -->
    <!-- <span id="investVizText" tabindex="0"
      [attr.aria-label]="getAriaLabel(vizData)" style="display: none;">
      Pie Chart Details
    </span>
    <div id="investViz" 
         class="row justify-content-center collapse show"
         style="height: 300px;"
         [hidden]="filterTitle == 'Inactive'">
      <ngx-charts-advanced-pie-chart appSkipFocusPiechart [scheme]="colorScheme" [results]="vizData" [label]="vizLabel"
        role="navigation"
        [ariaLabel]="getAriaLabel(vizData)"
        tabindex="0"
        (select)="onSelect($event)"       
      ></ngx-charts-advanced-pie-chart>
    </div> -->

    <!-- Main Table -->
    <!-- <app-table visibleColumnStorageKey="" [tableCols]="tableCols" exportName="Investments" reportStyle="it-strategy" tableType="investments">
      <app-filter-buttons filterBtns [filterButtons]="filterButtons" [singleFilterOnly]="true" (filterClick)="onFilterClick($event)" (filterResetClick)="onFilterResetClick()"></app-filter-buttons> -->
        <!-- Investment Definition Popover -->
        <!-- <app-button-overlay-panel definitionBtn buttonText="Investment Definition">
          Information technology investment means an expenditure of information technology
          resources to address mission delivery and management support. This may include a
          project or projects for the development, modernization, enhancement, or maintenance of
          a single information technology asset or group of information technology assets with
          related functionality, and the subsequent operation of those assets in a production
          environment. These investments shall have a defined life cycle with start and end dates.
          (<a href='https://obamawhitehouse.archives.gov/sites/default/files/omb/assets/OMB/circulars/a130/a130revised.pdf' 
          target='_blank' rel='noopener'>OMB A-130, pg 31</a>)
        </app-button-overlay-panel>
    </app-table>
  </div>
</div> -->